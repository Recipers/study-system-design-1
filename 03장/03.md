# 3. 시스템 설계 면접 공략법

시스템 설계 면접은 두 명의 동료가 모호한 문제를 풀기 위해 협력하여 그 해결책을 찾아내는 과정에 대한 시뮬레이션이다.

시스템 설계 면접은 설계 능력의 기술적 측면, 협력성, 압박 극복력, 모호한 문제를 건설적으로 해결하는 능력, 좋은 질문을 하는 능력 등을 종합적으로 평가한다. 

설계의 순수성 추구, 완고함, 편협함은 최대한 나타내지 말자.

## 효과적인 면접을 위한 4단계 접근법
4가지 단계로 접근할 수 있다.

## 1. 문제 이해 및 설계 범위 확정

올바른 질문을 하는 것, 적절한 가정을 하는 것, 그리고 시스템 구축에 필요한 정보를 모으는 것이 엔지니어가 가져야 할 가장 중요한 기술이다.

_그렇다면 어떤 질문을 해야 하나? → 요구사항을 정확히 이해하는 데 필요한 질문을 하자._

뉴스 피드 시스템을 설계하라는 요구를 받았다. 어떤 질문을 해야 할까?

- 구체적으로 어떤 기능을 만들어야 하나?

- 제품 사용자 수는 얼마나 되나?
- 회사의 규모는 얼마나 빨리 커지리라 예상되나?
- 회사가 주로 사용하는 기술 스택이 무엇인가? 설계를 단순화하기 위해 활용할 수 있는 기존 서비스로는 어떤 것들이 있는가?

_퀴즈) SNS 시스템을 설계하라는 요구를 받았다. 어떤 질문을 하면 좋을까?_

## 2. 개략적인 설계안 제시 및 동의 구하기(설계도 그리기)

- 설계안에 대한 최초 청사진을 제시하고 의견을 구하라. 면접관을 마치 팀원인 것처럼 대하라. 훌륭한 면접관은 지원자들과 대화하고 설계 과정에 개입하기를 즐긴다.

- 화이트보드나 종이에 핵심 컴포넌트를 포함하는 다이어그램을 그려라. 클라이언트, API, 웹 서버, 데이터 저장소, 캐시 등 포함될 수 있다. (설계도를 그리라는 의미)
- 이 설계도가 시스템 규모에 관계된 제약사항들을 만족하는지를 개략적으로 계산해보라. 아울러, 이런 개략적 추정이 필요한지는 면접관에게 미리 물어보자.

## 3. 상세 설계

대략적인 설계를 마쳤으면, 설계 대상 컴포넌트 사이의 우선순위를 정하는 것이다. 면접관마다 다르겠지만, 대부분 특정 컴포넌트의 세부사항을 깊이 있게 설명해는 것을 요구할 것이다. 

예를 들어, 캐시의 정책에 관한 자세한 설명이라던가 해시 함수의 설계를 구체적으로 설명하는 것을 듣고싶어한다. 혹은 요구사항이 변경됐을 때, 어떻게 대처할지를 설명하라고 할 수 있다.

면접 시에는 시간 관리에도 특별히 주의해야 한다. 사소한 부분을 설명하느라 능력을 보일 기회를 놓칠 수 있다. 불필요한 세부 사항에 시간을 쓰지 말자.

## 4. 마무리

면접이 마무리가 됐다면, 다음과 같은 부분을 질문받을 수 있고 상기시킬 수 있다.

- 면접관이 시스템 병목구간, 개선 가능한 지점을 찾아내라 주문할 수 있다. 개선점이 없다고 하지 말고 찾아보자.

- 내가 만든 설계를 다시 요약해주는 것도 도움이 될 수 있다.
- 오류가 발생하면 무슨 일이 발생하는지 따져보자(서버 오류, 네트워크 장애 등)
- 운영 이슈도 생각해보자.(메트릭, 모니터링, 로그, 배포 방식)
- 더 많은 트래픽이 들어온다면 어떤 부분을 개선할 것인가? (확장성에 대한 이야기)

### 해야 할 것

- 질문을 통해 확인하라. 스스로 내린 가정이 옳다 믿고 진행하지 마라.

- 문제의 요구사항을 이해하라. 요구사항을 정확하게 이해했는지 확인해라.
- 정답이나 최선의 답안 같은 것은 없다.
- 나의 사고 흐름을 이해할 수 있도록 면접관과 소통하라.
- 가능하다면 여러 해법을 함께 제시하라.
- 개략적 설계에 면접관이 OK한다면 각 컴포넌트의 세부 사항을 설명하라. 가장 중요한 컴포넌트부터 진행해라.(어떤거?)
- 면접관의 아이디어를 이끌어내라.
- 포기하지 말라.

### 하지 말아야 할 것

- 전형적이 면접 분제들에도 대비하지 않은 상태에서 면접장에 가지 마라.

- 요구사항이나 가정들이 분명하지 않은 상태에서 설계를 제시하지 마라.
- 처음부터 특정 컴포넌트의 세부사항을 깊이 설명하지 마라.
- 진행 중에 막혔다면, 힌트를 요구해라.
- 소통을 주저하지 마라. 침묵 속에 설계를 진행하지 마라.
- 설계안을 내놓는 순간 면접이 끝난다고 생각하지 마라. 의견을 일찍, 그리고 자주 구하라.